<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Balion</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />

	<link rel="stylesheet" href="libs/owl/assets/owl.carousel.min.css"/>
	<link rel="stylesheet" href="libs/owl/assets/owl.theme.default.min.css"/>
	<link rel="stylesheet" href="libs/fancybox/jquery.fancybox.min.css"/>
	<link rel="stylesheet" href="libs/simplebar/simplebar.css"/>
	<link rel="stylesheet" href="fonts/stylesheet.css"/>
	<link rel="stylesheet" href="css/styles.css"/>

	<!--[if lte IE 9]>
    <script src="http://phpbbex.com/oldies/oldies.js" charset="utf-8"></script>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

	<script type="text/javascript" src="libs/jquery-3.5.1.min.js"></script>
</head>
<body>
<div class="wrapper">
	<div class="content">
		<header class="header">
			<div class="header-container">
				<a href="#!" class="menu"><span>Меню</span></a>
				<a href="" class="logo"></a>
				<div class="header-buttons">
					<a href="" class="btn desktop-visible">Корзина</a>
					<a href="" class="btn white">Войти</a>
				</div>
			</div>
			<div class="menu-links-wrapper">
				<div class="menu-links">
					<a href="" class="menu-link">Политика конфиденциальности</a>
					<a href="" class="menu-link">Пользовательское соглашение</a>
					<a href="" class="menu-link">Условия оплаты</a>
					<a href="" class="menu-link">О сервисе</a>
					<a href="" class="menu-link">Реквизиты</a>
					<a href="" class="menu-link">Контакты</a>
				</div>
				<div class="menu-links-socs">
					<a href="" class="soc">
						<img src="img/soc/tg.svg" alt="">
					</a>
					<a href="" class="soc">
						<img src="img/soc/vk.svg" alt="">
					</a>
				</div>
			</div>
		</header>
		<section class="section-auth">
			<div class="container">
				<h1 class="title-section">Подтверждение email</h1>
				<div class="text-section">
					Мы отправили код безопасности на <b>••no@di•••••••••.ru</b>. <br>
					Возможно, вам стоит проверить папку «Нежелательная почта» или «Спам».
				</div>
				<div class="form-wrapper">
					<form class="form">
						<div class="pincode-label">
							Код из письма
						</div>
						<div class="call-wrapper">
	                		<div class="ip_cell label-on">
	                    		<input type="text" class="input_text pincode" name="num1" maxlength="1" required>
	                    	</div>
	                    	<div class="ip_cell label-on">
	                    		<input type="text" class="input_text pincode" name="num2" maxlength="1" required>
	                    	</div>
	                    	<div class="ip_cell label-on">
	                    		<input type="text" class="input_text pincode" name="num3" maxlength="1" required>
	                    	</div>
	                    	<div class="ip_cell label-on">
	                    		<input type="text" class="input_text pincode" name="num4" maxlength="1" required>
	                    	</div>
	                	</div>
			            <div class="buttons">
			            	<button class="btn">Продолжить</button>
			            </div>
			            <div class="reset-pwd-info">
			            	<span class="clock-text" style="display: none;">Получить новый код можно через <span class="clock countdown"></span></span>
			            	<a href="" class="link reset_resend" style="display: none;">Получить новый код</a>
			            </div>
					</form>
					<div class="reg-announce"><a href="" class="link">Изменить Email</a></div>
				</div>
			</div>
		</section>
	</div>
	<footer class="footer">
		<div class="footer-container">
			<div class="footer-menu">
				<div class="footer-title">О компании</div>
				<div class="footer-menu-links-wrapper">
					<div class="footer-menu-links">
						<a href="" class="footer-menu-link">Политика конфиденциальности</a>
						<a href="" class="footer-menu-link">Пользовательское соглашение</a>
						<a href="" class="footer-menu-link">Условия оплаты</a>
					</div>
					<div class="footer-menu-links">
						<a href="" class="footer-menu-link">О сервисе</a>
						<a href="" class="footer-menu-link">Реквизиты</a>
						<a href="" class="footer-menu-link">Контакты</a>
					</div>
				</div>
			</div>
			<div class="subscribe-form-block">
				<div class="footer-title">Подписаться на рассылку</div>
				<form class="subscribe-form">
					<div class="subscribe-input">
						<div class="ip_cell">
							<input type="text" placeholder="Ваш email">
							<div class="help-block">Неверный формат e-mail</div>
						</div>
						<button class="subscribe-btn"></button>
					</div>
					<div class="ip_cell">
                        <input type="checkbox" id="subscribe-ch" class="ch" name="subscribe-ch" required="">
                        <label for="subscribe-ch">Я согласен с <a href="">условиями обработки персональных данных</a></label>
                        <div class="help-block">Примите условия, чтобы продолжить</div>
                    </div>
				</form>
				<div class="footer-links-socs">
					<a href="" class="soc">
						<img src="img/soc/tg.svg" alt="">
					</a>
					<a href="" class="soc">
						<img src="img/soc/vk.svg" alt="">
					</a>
				</div>
			</div>
		</div>
		<div class="footer-infos-container">
			<div class="footer-copyright">© 2023 ООО "БАЛИОН"</div>
			<div class="footer-info-links">
				Создание сайта <a href="" class="footer-create-link link" target="_blank">Digital Muse</a>
			</div>
		</div>
	</footer>
</div>

<script src="libs/owl/owl.carousel.min.js"></script>
<script src="libs/fancybox/jquery.fancybox.min.js"></script>
<script src="libs/simplebar/simplebar.min.js"></script>
<script src="libs/jquery.inputmask.min.js"></script>
<script src="libs/jquery.validate.min.js"></script>
<script src="libs/jquery.countdown.min.js"></script>
<!-- глобальная переменная для счетчика -->
<script>
	// передавать значение в секундах
	// если переменная resetTime пустая, то на странице будет отображаться кнопка "Получить новый код"
	let resetTime = 10;
</script>
<!--  -->
<script src="js/scripts.js"></script>
<!-- функция таймера -->
<script>
	function reSendCode(date) {
        $('.clock-text').show();
        $('.reset_resend').hide();
        let finalDate = new Date();
        finalDate = finalDate.setTime(finalDate.getTime() + (date*1000));
        $('.clock').parent().show();
        $('.clock').countdown(finalDate)
        .on('update.countdown', function(event) {
            $(this).html(event.strftime('%M:%S'));
        })
        .on('finish.countdown', function(event) {
            $(this).parent().hide();
            $('.reset_resend').show();
        });
    }
    // если переменная resetTime пустая, то на странице будет отображаться кнопка "Получить новый код"
    // иначе выполнится функция
    if(resetTime) {
        reSendCode(resetTime);
    } else {
    	$('.reset_resend').show();
    }
    // по клику производим необходимые манипуляции для обновления счетчика
    $('body').on('click', '.reset_resend', function(e) {
    	e.preventDefault();
    	// что-то происходит
    	// выполняем функцию и передаем значение либо из глобальной переменной resetTime, либо сразу необходимое значение, например 900 секунд (15 минут)
    	reSendCode(10);
    });
</script>

</body>
</html>